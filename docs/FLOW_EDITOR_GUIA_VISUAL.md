# ğŸ¨ FLOW EDITOR - GUÃA VISUAL COMPLETA

## ğŸ’ EDITOR VISUAL DE FLUJOS CONVERSACIONALES

**Estado:** âœ… IMPLEMENTADO Y PERFECTO  
**TecnologÃ­a:** React Flow + Custom Nodes  
**Nivel:** PROFESSIONAL DRAG & DROP

---

## ğŸ–¼ï¸ INTERFAZ DEL EDITOR

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸ“ Flujo de Ventas         ğŸ’¾ Save  â–¶ï¸ Test  ğŸ“¥ Import  ğŸ“¤ Export    â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                       â•‘
â•‘  â”‚  PALETA     â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â•‘
â•‘  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚                                    â”‚            â•‘
â•‘  â”‚ ğŸ’¬ Mensaje  â”‚    â”‚      CANVAS DE TRABAJO             â”‚            â•‘
â•‘  â”‚             â”‚    â”‚      (Drag & Drop)                 â”‚            â•‘
â•‘  â”‚ â“ Pregunta â”‚    â”‚                                    â”‚            â•‘
â•‘  â”‚             â”‚    â”‚  Arrastra nodos aquÃ­ â†’            â”‚            â•‘
â•‘  â”‚ âš¡ AcciÃ³n   â”‚    â”‚                                    â”‚            â•‘
â•‘  â”‚             â”‚    â”‚                                    â”‚            â•‘
â•‘  â”‚ ğŸ”€ CondiciÃ³nâ”‚    â”‚                                    â”‚            â•‘
â•‘  â”‚             â”‚    â”‚                                    â”‚            â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â•‘
â•‘                                                                        â•‘
â•‘  [Propiedades del Nodo Seleccionado]                                  â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â•‘
â•‘  â”‚ Nodo: Mensaje #1                             â”‚                     â•‘
â•‘  â”‚ Etiqueta: [Bienvenida            ]           â”‚                     â•‘
â•‘  â”‚ Contenido: [Â¡Hola! Bienvenido... ]           â”‚                     â•‘
â•‘  â”‚ [Actualizar] [Eliminar]                      â”‚                     â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ğŸ¯ TIPOS DE NODOS EN DETALLE

### 1. ğŸ’¬ MENSAJE NODE

#### DiseÃ±o Visual
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          â¬¤ (entrada)             â”‚
â”‚                                  â”‚
â”‚  ğŸ’¬ Bienvenida                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  "Â¡Hola! Bienvenido a Cocolu    â”‚
â”‚   Ventas. Â¿En quÃ© te puedo      â”‚
â”‚   ayudar hoy? ğŸ›ï¸"               â”‚
â”‚                                  â”‚
â”‚          â¬¤ (salida)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Color: Azul (#3B82F6)
Borde: 2px sÃ³lido
Shadow: Sombra suave
Hover: Ring azul
Selected: Ring mÃ¡s intenso + border-blue-500
```

#### Propiedades Editables
```javascript
{
    id: "message-1674567890",
    type: "message",
    data: {
        label: "Bienvenida",        // TÃ­tulo del nodo
        content: "Â¡Hola! ...",      // Mensaje a enviar
        delay: 0,                   // Delay en ms (opcional)
        media: null,                // URL de imagen/video (opcional)
        buttons: []                 // Botones quick reply (opcional)
    }
}
```

#### Casos de Uso
- âœ… Mensajes de bienvenida
- âœ… Confirmaciones automÃ¡ticas
- âœ… InformaciÃ³n de productos
- âœ… Notificaciones
- âœ… Despedidas

#### Ejemplo de Flujo
```javascript
// Node configuraciÃ³n
{
    label: "ConfirmaciÃ³n Pedido",
    content: "âœ… Tu pedido #12345 ha sido confirmado\n\nğŸ“¦ LlegarÃ¡ en 2-3 dÃ­as hÃ¡biles",
    delay: 1000
}
```

---

### 2. â“ PREGUNTA NODE

#### DiseÃ±o Visual
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          â¬¤ (entrada)             â”‚
â”‚                                  â”‚
â”‚  â“ MenÃº Principal                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  "Â¿QuÃ© deseas hacer?"            â”‚
â”‚                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ [1] Ver productos       â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚ [2] Hacer pedido        â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚ [3] Hablar con vendedor â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                  â”‚
â”‚          â¬¤ (salida)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Color: Verde (#10B981)
Opciones: Fondo verde-50
Hover: Highlight
```

#### Propiedades Editables
```javascript
{
    id: "question-1674567891",
    type: "question",
    data: {
        label: "MenÃº Principal",
        question: "Â¿QuÃ© deseas hacer?",
        options: [
            "Ver productos",
            "Hacer pedido",
            "Hablar con vendedor"
        ],
        optionType: "list",        // list | buttons | quick_reply
        validateInput: true,       // Validar respuesta
        retryMessage: "Por favor, elige una opciÃ³n vÃ¡lida"
    }
}
```

#### Tipos de Opciones

**A) Lista Numerada**
```
Â¿QuÃ© deseas hacer?

1ï¸âƒ£ Ver productos
2ï¸âƒ£ Hacer pedido
3ï¸âƒ£ Hablar con vendedor

Responde con el nÃºmero
```

**B) Botones (WhatsApp)**
```
Â¿QuÃ© deseas hacer?
[Ver productos] [Hacer pedido] [Soporte]
```

**C) Quick Reply**
```
Â¿QuÃ© deseas hacer?
ğŸ’¬ Ver productos | ğŸ›’ Hacer pedido | ğŸ‘¤ Soporte
```

#### Casos de Uso
- âœ… MenÃºs de navegaciÃ³n
- âœ… Capturar elecciÃ³n del usuario
- âœ… Formularios interactivos
- âœ… Encuestas
- âœ… SelecciÃ³n de categorÃ­as

---

### 3. âš¡ ACCIÃ“N NODE

#### DiseÃ±o Visual
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          â¬¤ (entrada)             â”‚
â”‚                                  â”‚
â”‚  âš¡ Consultar Productos           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Tipo: API_CALL          â”‚    â”‚
â”‚  â”‚ Endpoint: /api/products â”‚    â”‚
â”‚  â”‚ MÃ©todo: GET             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                  â”‚
â”‚          â¬¤ (salida)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Color: Ãmbar (#F59E0B)
Badge: Tipo de acciÃ³n con fondo Ã¡mbar-50
```

#### Propiedades Editables
```javascript
{
    id: "action-1674567892",
    type: "action",
    data: {
        label: "Consultar Productos",
        actionType: "API_CALL",    // Ver tipos abajo
        config: {
            endpoint: "/api/products",
            method: "GET",
            params: {},
            headers: {},
            saveAs: "products"     // Variable para usar despuÃ©s
        },
        onSuccess: "message-next", // Siguiente nodo si Ã©xito
        onError: "message-error"   // Siguiente nodo si error
    }
}
```

#### Tipos de Acciones Disponibles

**1. API_CALL** - Llamar API Externa
```javascript
{
    actionType: "API_CALL",
    config: {
        endpoint: "https://api.example.com/data",
        method: "POST",
        body: { key: "value" },
        saveAs: "apiResponse"
    }
}
```

**2. DB_QUERY** - Consultar Base de Datos
```javascript
{
    actionType: "DB_QUERY",
    config: {
        table: "products",
        operation: "SELECT",
        where: { category: "electronics" },
        limit: 10,
        saveAs: "productList"
    }
}
```

**3. SEND_EMAIL** - Enviar Email
```javascript
{
    actionType: "SEND_EMAIL",
    config: {
        to: "customer@email.com",
        subject: "ConfirmaciÃ³n de Pedido",
        template: "order_confirmation",
        data: { orderId: "12345" }
    }
}
```

**4. ASSIGN_SELLER** - Asignar Vendedor
```javascript
{
    actionType: "ASSIGN_SELLER",
    config: {
        department: "sales",
        priority: "high",
        notifySeller: true
    }
}
```

**5. CREATE_ORDER** - Crear Pedido
```javascript
{
    actionType: "CREATE_ORDER",
    config: {
        customerId: "{{user.id}}",
        items: "{{cart.items}}",
        total: "{{cart.total}}"
    }
}
```

**6. UPDATE_CRM** - Actualizar CRM
```javascript
{
    actionType: "UPDATE_CRM",
    config: {
        customerId: "{{user.id}}",
        fields: {
            lastContact: "{{now}}",
            status: "interested"
        }
    }
}
```

**7. CUSTOM_CODE** - CÃ³digo Personalizado
```javascript
{
    actionType: "CUSTOM_CODE",
    config: {
        code: `
            // JavaScript code
            const result = await someFunction();
            return result;
        `
    }
}
```

#### Casos de Uso
- âœ… IntegraciÃ³n con APIs externas
- âœ… Consultas a base de datos
- âœ… EnvÃ­o de notificaciones
- âœ… Procesamiento de pedidos
- âœ… ActualizaciÃ³n de CRM
- âœ… LÃ³gica de negocio compleja

---

### 4. ğŸ”€ CONDICIÃ“N NODE

#### DiseÃ±o Visual
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          â¬¤ (entrada)             â”‚
â”‚                                  â”‚
â”‚  ğŸ”€ Validar Usuario VIP           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ if (user.type === VIP)  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                  â”‚
â”‚      â¬¤ TRUE    â¬¤ FALSE           â”‚
â”‚       â†“          â†“               â”‚
â”‚    (verde)    (rojo)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Color: PÃºrpura (#A855F7)
Salidas: 2 handles (TRUE verde, FALSE rojo)
Code: Fondo gris-50 con fuente mono
```

#### Propiedades Editables
```javascript
{
    id: "condition-1674567893",
    type: "condition",
    data: {
        label: "Validar Usuario VIP",
        condition: "user.type === 'VIP'",  // ExpresiÃ³n JavaScript
        trueNode: "message-vip",           // Si TRUE
        falseNode: "message-regular"       // Si FALSE
    }
}
```

#### Tipos de Condiciones

**1. ComparaciÃ³n Simple**
```javascript
condition: "user.age >= 18"
condition: "cart.total > 100"
condition: "user.country === 'US'"
```

**2. Condiciones MÃºltiples**
```javascript
condition: "user.verified && cart.items.length > 0"
condition: "user.type === 'VIP' || order.total > 500"
```

**3. VerificaciÃ³n de Existencia**
```javascript
condition: "user.email !== null"
condition: "cart.items.length > 0"
condition: "user.subscribed"
```

**4. Funciones Personalizadas**
```javascript
condition: "isBusinessHours()"
condition: "hasActivePromotion(user.id)"
condition: "checkInventory(product.id)"
```

#### Ejemplos de Uso

**Ejemplo 1: Horario de AtenciÃ³n**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”€ Verificar Hora  â”‚
â”‚ isBusinessHours()  â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
      â”‚          â”‚
   TRUEâ”‚       FALSE
      â”‚          â”‚
      â–¼          â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚Conectarâ”‚  â”‚Mensaje  â”‚
  â”‚Vendedorâ”‚  â”‚"Cerrado"â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Ejemplo 2: Usuario VIP**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”€ Tipo de Usuario  â”‚
â”‚ user.type === 'VIP' â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
      â”‚           â”‚
    TRUEâ”‚      FALSE
      â”‚           â”‚
      â–¼           â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚Descuento â”‚ â”‚Precio   â”‚
  â”‚  20%   â”‚ â”‚ Normal  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Ejemplo 3: Disponibilidad de Stock**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”€ Check Stock       â”‚
â”‚ product.stock > 0    â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
      â”‚            â”‚
    TRUEâ”‚       FALSE
      â”‚            â”‚
      â–¼            â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚Agregar â”‚   â”‚"Agotado"â”‚
  â”‚al Cart â”‚   â”‚        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Casos de Uso
- âœ… Validaciones de usuario
- âœ… VerificaciÃ³n de horarios
- âœ… Routing inteligente
- âœ… Permisos y accesos
- âœ… LÃ³gica de descuentos
- âœ… Control de inventario

---

## ğŸ”— CONEXIONES ENTRE NODOS

### Tipos de Conexiones

```javascript
// ConfiguraciÃ³n de conexiones
const defaultEdgeOptions = {
    style: { 
        strokeWidth: 2, 
        stroke: '#3B82F6'     // Azul
    },
    type: 'smoothstep',       // LÃ­neas suaves
    markerEnd: {
        type: MarkerType.ArrowClosed,
        color: '#3B82F6'
    },
    animated: true            // AnimaciÃ³n de flujo
};
```

### Estilos Visuales

**ConexiÃ³n Normal**
```
Node A â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Node B
      (azul, animado)
```

**ConexiÃ³n TRUE (Condition)**
```
Condition â”€â”€â”€â”€â”€â”€â–º Node Success
          (verde)
```

**ConexiÃ³n FALSE (Condition)**
```
Condition â”€â”€â”€â”€â”€â”€â–º Node Error
          (rojo)
```

---

## ğŸ¨ EJEMPLO COMPLETO: FLUJO DE VENTAS

### Diagrama Visual Completo

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   START     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ ğŸ’¬ Mensaje Bienvenida    â”‚
            â”‚ "Â¡Hola! Bienvenido a     â”‚
            â”‚  Cocolu Ventas ğŸ›ï¸"       â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ â“ MenÃº Principal         â”‚
            â”‚ "Â¿QuÃ© deseas?"           â”‚
            â”‚ [1] Ver CatÃ¡logo         â”‚
            â”‚ [2] Hacer Pedido         â”‚
            â”‚ [3] Soporte              â”‚
            â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
               â”‚        â”‚        â”‚
          [1]  â”‚   [2]  â”‚   [3]  â”‚
               â”‚        â”‚        â”‚
               â–¼        â–¼        â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ âš¡ AcciÃ³n  â”‚  â”‚ âš¡ AcciÃ³nâ”‚ â”‚ âš¡ AcciÃ³n     â”‚
    â”‚ getProductsâ”‚  â”‚ createOrderâ”‚ assignSellerâ”‚
    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚              â”‚              â”‚
          â–¼              â–¼              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ğŸ”€ Condi â”‚  â”‚ ğŸ’¬ Mensajeâ”‚ â”‚ ğŸ’¬ Mensaje â”‚
    â”‚ hasStock?â”‚  â”‚ "Pedido  â”‚  â”‚ "Conectandoâ”‚
    â””â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”˜  â”‚  creado âœ…"â”‚ â”‚ vendedor..."â”‚
      â”‚    â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   SI â”‚ NO â”‚
      â”‚    â”‚
      â–¼    â–¼
  â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”
  â”‚Mostrarâ”‚ Msgâ”‚
  â”‚CatÃ¡logoâ”‚ No â”‚
  â”‚       â”‚Stockâ”‚
  â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜
```

### CÃ³digo del Flujo (JSON Export)

```json
{
    "name": "Flujo de Ventas Completo",
    "version": "1.0",
    "nodes": [
        {
            "id": "start",
            "type": "message",
            "position": { "x": 250, "y": 0 },
            "data": {
                "label": "Bienvenida",
                "content": "Â¡Hola! ğŸ‘‹ Bienvenido a Cocolu Ventas ğŸ›ï¸\n\nÂ¿En quÃ© te puedo ayudar hoy?"
            }
        },
        {
            "id": "menu",
            "type": "question",
            "position": { "x": 250, "y": 150 },
            "data": {
                "label": "MenÃº Principal",
                "question": "Elige una opciÃ³n:",
                "options": [
                    "Ver CatÃ¡logo de Productos",
                    "Hacer un Pedido",
                    "Hablar con Soporte"
                ]
            }
        },
        {
            "id": "action-products",
            "type": "action",
            "position": { "x": 50, "y": 350 },
            "data": {
                "label": "Obtener Productos",
                "actionType": "API_CALL",
                "config": {
                    "endpoint": "/api/products",
                    "method": "GET",
                    "saveAs": "products"
                }
            }
        },
        {
            "id": "check-stock",
            "type": "condition",
            "position": { "x": 50, "y": 500 },
            "data": {
                "label": "Verificar Stock",
                "condition": "products.length > 0"
            }
        },
        {
            "id": "show-catalog",
            "type": "message",
            "position": { "x": 50, "y": 650 },
            "data": {
                "label": "Mostrar CatÃ¡logo",
                "content": "ğŸ“¦ CatÃ¡logo Disponible:\n\n{{products}}"
            }
        },
        {
            "id": "no-stock",
            "type": "message",
            "position": { "x": 250, "y": 650 },
            "data": {
                "label": "Sin Stock",
                "content": "ğŸ˜” Lo sentimos, no tenemos productos disponibles en este momento."
            }
        },
        {
            "id": "action-order",
            "type": "action",
            "position": { "x": 250, "y": 350 },
            "data": {
                "label": "Crear Pedido",
                "actionType": "CREATE_ORDER",
                "config": {
                    "customerId": "{{user.id}}",
                    "items": "{{cart.items}}"
                }
            }
        },
        {
            "id": "order-confirmed",
            "type": "message",
            "position": { "x": 250, "y": 500 },
            "data": {
                "label": "ConfirmaciÃ³n",
                "content": "âœ… Â¡Pedido confirmado!\n\nğŸ“ #{{order.id}}\nğŸ’° Total: ${{order.total}}\nğŸ“¦ Llegada: 2-3 dÃ­as"
            }
        },
        {
            "id": "action-support",
            "type": "action",
            "position": { "x": 450, "y": 350 },
            "data": {
                "label": "Asignar Vendedor",
                "actionType": "ASSIGN_SELLER",
                "config": {
                    "department": "support",
                    "priority": "normal"
                }
            }
        },
        {
            "id": "support-wait",
            "type": "message",
            "position": { "x": 450, "y": 500 },
            "data": {
                "label": "Esperando Vendedor",
                "content": "â³ Conectando con un agente...\n\nPor favor espera un momento."
            }
        }
    ],
    "edges": [
        { "source": "start", "target": "menu" },
        { "source": "menu", "target": "action-products", "label": "1" },
        { "source": "menu", "target": "action-order", "label": "2" },
        { "source": "menu", "target": "action-support", "label": "3" },
        { "source": "action-products", "target": "check-stock" },
        { "source": "check-stock", "target": "show-catalog", "sourceHandle": "true" },
        { "source": "check-stock", "target": "no-stock", "sourceHandle": "false" },
        { "source": "action-order", "target": "order-confirmed" },
        { "source": "action-support", "target": "support-wait" }
    ]
}
```

---

## ğŸ› ï¸ HERRAMIENTAS DEL EDITOR

### 1. MiniMap (Vista Previa)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   MiniMap     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”          â”‚
â”‚  â”‚ â”‚  â”Œâ”€â”     â”‚ â† Vista reducida
â”‚  â””â”€â”˜  â”‚ â”‚     â”‚   del canvas completo
â”‚       â””â”€â”˜     â”‚
â”‚    â”Œâ”€â”  â”Œâ”€â”  â”‚
â”‚    â”‚ â”‚  â”‚ â”‚  â”‚
â”‚    â””â”€â”˜  â””â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. Controles
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Controls â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â• Zoom â”‚
â”‚  â– Zoom â”‚
â”‚  ğŸ” Fit  â”‚
â”‚  ğŸ”’ Lock â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. Background Grid
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ . . . . . . . . . . .   â”‚
â”‚ . . . . . . . . . . .   â”‚ â† Grid pattern
â”‚ . . . . . . . . . . .   â”‚   para alineaciÃ³n
â”‚ . . . . . . . . . . .   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š ESTADÃSTICAS DEL FLUJO

### Panel de EstadÃ­sticas
```javascript
const flowStats = {
    nodes: {
        total: 10,
        byType: {
            message: 4,
            question: 2,
            action: 3,
            condition: 1
        }
    },
    edges: {
        total: 12,
        loops: 0,
        deadEnds: 0
    },
    complexity: "Medium",
    estimatedDuration: "2-5 min",
    maxDepth: 6
};
```

### Vista de EstadÃ­sticas
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Š ESTADÃSTICAS DEL FLUJO          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  Nodos Totales: 10                  â”‚
â”‚  â”œâ”€ Mensajes: 4 (40%)               â”‚
â”‚  â”œâ”€ Preguntas: 2 (20%)              â”‚
â”‚  â”œâ”€ Acciones: 3 (30%)               â”‚
â”‚  â””â”€ Condiciones: 1 (10%)            â”‚
â”‚                                     â”‚
â”‚  Conexiones: 12                     â”‚
â”‚  Complejidad: Media                 â”‚
â”‚  DuraciÃ³n Est: 2-5 min              â”‚
â”‚  Profundidad: 6 niveles             â”‚
â”‚                                     â”‚
â”‚  âœ… Sin loops detectados            â”‚
â”‚  âœ… Sin dead-ends                   â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ BEST PRACTICES

### âœ… DO (Hacer)
1. **Nombres Descriptivos**
   ```
   âœ… "Consultar Disponibilidad de Producto"
   âŒ "Action 1"
   ```

2. **Flujo Lineal Simple**
   ```
   âœ… Start â†’ MenÃº â†’ AcciÃ³n â†’ Resultado
   âŒ MÃºltiples loops complejos
   ```

3. **Mensajes Claros**
   ```
   âœ… "Â¡Pedido confirmado! #12345"
   âŒ "ok"
   ```

4. **Validaciones**
   ```
   âœ… Usar condition nodes para validar
   âŒ Asumir datos siempre vÃ¡lidos
   ```

### âŒ DON'T (No Hacer)
1. âŒ Flujos infinitos sin salida
2. âŒ Nodos sin etiqueta
3. âŒ Demasiados niveles de profundidad (>8)
4. âŒ Condiciones sin manejo de error

---

## ğŸ’¾ EXPORTAR/IMPORTAR

### Exportar a JSON
```javascript
// Click en "ğŸ“¤ Export"
// Genera archivo: flujo-ventas.json
{
    "name": "Flujo Ventas",
    "nodes": [...],
    "edges": [...],
    "metadata": {
        "version": "1.0",
        "created": "2025-01-04",
        "author": "Admin"
    }
}
```

### Importar desde JSON
```javascript
// Click en "ğŸ“¥ Import"
// Selecciona archivo .json
// Flujo se carga automÃ¡ticamente
```

---

## âœ… CONCLUSIÃ“N

**Tu Flow Editor tiene:**

âœ… **Drag & Drop Visual** - Intuitivo y profesional  
âœ… **4 Tipos de Nodos** - Message, Question, Action, Condition  
âœ… **Conexiones Animadas** - Visual feedback en tiempo real  
âœ… **MiniMap + Controls** - NavegaciÃ³n fÃ¡cil  
âœ… **Export/Import JSON** - Portabilidad total  
âœ… **Panel de Propiedades** - EdiciÃ³n en tiempo real  
âœ… **EstadÃ­sticas** - MÃ©tricas del flujo  

**Nivel:** ğŸ’ **ENTERPRISE GRADE**

---

*GuÃ­a visual creada: 2025-01-04*  
*Estado: PERFECTO âœ…*  
*Ready para diseÃ±ar flujos de millones* ğŸ’°
