{"version":3,"file":"static/js/81.6aa5af4e.chunk.js","mappings":"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","sources":["pages/SellerAvailability.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport '../styles/SellerAvailability.css';\n\nexport default function SellerAvailability() {\n    const [sellers, setSellers] = useState([]);\n    const [selectedSeller, setSelectedSeller] = useState(null);\n    const [loading, setLoading] = useState(false);\n    const [report, setReport] = useState(null);\n    const [activeTab, setActiveTab] = useState('available');\n\n    useEffect(() => {\n        loadData();\n        const interval = setInterval(loadData, 30000); // Actualizar cada 30s\n        return () => clearInterval(interval);\n    }, []);\n\n    const loadData = async () => {\n        try {\n            setLoading(true);\n            const [availRes, reportRes] = await Promise.all([\n                fetch('/api/sellers/available'),\n                fetch('/api/sellers/availability/report')\n            ]);\n            \n            const availData = await availRes.json();\n            const reportData = await reportRes.json();\n            \n            setSellers(availData.sellers || []);\n            setReport(reportData.report);\n        } catch (error) {\n            console.error('Error cargando datos:', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleToggleAvailability = async (sellerId, currentActive) => {\n        try {\n            const response = await fetch(`/api/sellers/${sellerId}/toggle-availability`, {\n                method: 'PUT',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({\n                    active: !currentActive,\n                    reason: !currentActive ? null : 'Deshabilitado desde dashboard'\n                })\n            });\n            \n            if (response.ok) {\n                loadData();\n                alert('Estado actualizado');\n            }\n        } catch (error) {\n            alert('Error: ' + error.message);\n        }\n    };\n\n    const handleUpdateSchedule = async (sellerId, day, enabled, startTime, endTime) => {\n        try {\n            const response = await fetch(`/api/sellers/${sellerId}/work-schedule`, {\n                method: 'PUT',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ dayOfWeek: day, enabled, startTime, endTime })\n            });\n            \n            if (response.ok) {\n                loadData();\n                alert('Horario actualizado');\n            }\n        } catch (error) {\n            alert('Error: ' + error.message);\n        }\n    };\n\n    const handleAddDayOff = async (sellerId, date, reason) => {\n        try {\n            const response = await fetch(`/api/sellers/${sellerId}/days-off`, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ date, reason })\n            });\n            \n            if (response.ok) {\n                loadData();\n                alert('D√≠a de descanso agregado');\n            }\n        } catch (error) {\n            alert('Error: ' + error.message);\n        }\n    };\n\n    return (\n        <div className=\"seller-availability-container\">\n            <div className=\"seller-header\">\n                <h1>üë• Disponibilidad de Vendedores</h1>\n                <button className=\"btn-refresh\" onClick={loadData} disabled={loading}>\n                    {loading ? '‚è≥ Cargando...' : 'üîÑ Actualizar'}\n                </button>\n            </div>\n\n            {/* Resumen R√°pido */}\n            {report && (\n                <div className=\"summary-grid\">\n                    <div className=\"summary-card\">\n                        <div className=\"summary-value\">{report.total}</div>\n                        <div className=\"summary-label\">Total Vendedores</div>\n                    </div>\n                    <div className=\"summary-card active\">\n                        <div className=\"summary-value\">{report.workingNow}</div>\n                        <div className=\"summary-label\">Trabajando Ahora</div>\n                    </div>\n                    <div className=\"summary-card available\">\n                        <div className=\"summary-value\">{report.available}</div>\n                        <div className=\"summary-label\">Disponibles</div>\n                    </div>\n                    <div className=\"summary-card offline\">\n                        <div className=\"summary-value\">{report.offline}</div>\n                        <div className=\"summary-label\">Offline</div>\n                    </div>\n                </div>\n            )}\n\n            {/* Tabs */}\n            <div className=\"tabs\">\n                <button \n                    className={`tab ${activeTab === 'available' ? 'active' : ''}`}\n                    onClick={() => setActiveTab('available')}\n                >\n                    ‚úÖ Disponibles Ahora ({sellers.length})\n                </button>\n                <button \n                    className={`tab ${activeTab === 'manage' ? 'active' : ''}`}\n                    onClick={() => setActiveTab('manage')}\n                >\n                    ‚öôÔ∏è Gestionar\n                </button>\n            </div>\n\n            {/* Tab: Disponibles */}\n            {activeTab === 'available' && (\n                <div className=\"sellers-grid\">\n                    {sellers.length === 0 ? (\n                        <div className=\"empty-state\">\n                            <p>No hay vendedores disponibles en este momento</p>\n                        </div>\n                    ) : (\n                        sellers.map(seller => (\n                            <div key={seller.id} className=\"seller-card\">\n                                <div className=\"seller-header-card\">\n                                    <h3>{seller.name}</h3>\n                                    <span className={`badge ${seller.status}`}>{seller.status}</span>\n                                </div>\n                                <div className=\"seller-info\">\n                                    <p><strong>Especialidad:</strong> {seller.specialty}</p>\n                                    <p><strong>Calificaci√≥n:</strong> ‚≠ê {seller.rating.toFixed(1)}</p>\n                                    <div className=\"load-bar\">\n                                        <div \n                                            className=\"load-fill\" \n                                            style={{ width: `${seller.loadPercentage}%` }}\n                                        ></div>\n                                    </div>\n                                    <p className=\"load-text\">{seller.loadPercentage.toFixed(0)}% ocupado</p>\n                                </div>\n                                <button \n                                    className=\"btn-select\"\n                                    onClick={() => setSelectedSeller(seller)}\n                                >\n                                    Ver Detalles\n                                </button>\n                            </div>\n                        ))\n                    )}\n                </div>\n            )}\n\n            {/* Tab: Gestionar */}\n            {activeTab === 'manage' && (\n                <div className=\"manage-section\">\n                    <h2>Gestionar Vendedores</h2>\n                    <ManageSellersForm onUpdate={loadData} />\n                </div>\n            )}\n\n            {/* Modal de Detalles */}\n            {selectedSeller && (\n                <div className=\"modal-overlay\" onClick={() => setSelectedSeller(null)}>\n                    <div className=\"modal-content\" onClick={e => e.stopPropagation()}>\n                        <button className=\"btn-close\" onClick={() => setSelectedSeller(null)}>‚úï</button>\n                        <SellerDetailsModal seller={selectedSeller} onUpdate={loadData} />\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}\n\nfunction SellerDetailsModal({ seller, onUpdate }) {\n    const [showSchedule, setShowSchedule] = useState(false);\n    const [showDayOff, setShowDayOff] = useState(false);\n    const [dayOffDate, setDayOffDate] = useState('');\n    const [dayOffReason, setDayOffReason] = useState('');\n\n    const handleAddDayOff = async () => {\n        if (!dayOffDate) {\n            alert('Selecciona una fecha');\n            return;\n        }\n        \n        try {\n            const response = await fetch(`/api/sellers/${seller.id}/days-off`, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ date: dayOffDate, reason: dayOffReason })\n            });\n            \n            if (response.ok) {\n                setDayOffDate('');\n                setDayOffReason('');\n                setShowDayOff(false);\n                onUpdate();\n                alert('D√≠a de descanso agregado');\n            }\n        } catch (error) {\n            alert('Error: ' + error.message);\n        }\n    };\n\n    return (\n        <div className=\"seller-details\">\n            <h2>{seller.name}</h2>\n            \n            <div className=\"details-grid\">\n                <div className=\"detail-item\">\n                    <label>Estado</label>\n                    <span className={`status-badge ${seller.status}`}>{seller.status}</span>\n                </div>\n                <div className=\"detail-item\">\n                    <label>Especialidad</label>\n                    <span>{seller.specialty}</span>\n                </div>\n                <div className=\"detail-item\">\n                    <label>Calificaci√≥n</label>\n                    <span>‚≠ê {seller.rating.toFixed(1)}</span>\n                </div>\n                <div className=\"detail-item\">\n                    <label>Clientes Actuales</label>\n                    <span>{seller.currentClients} / {seller.maxClients}</span>\n                </div>\n            </div>\n\n            {/* Horarios */}\n            <div className=\"section\">\n                <h3>üìÖ Horarios de Trabajo</h3>\n                <button \n                    className=\"btn-toggle\"\n                    onClick={() => setShowSchedule(!showSchedule)}\n                >\n                    {showSchedule ? '‚ñº' : '‚ñ∂'} Ver Horarios\n                </button>\n                \n                {showSchedule && seller.workSchedule && (\n                    <div className=\"schedule-grid\">\n                        {Object.entries(seller.workSchedule).map(([day, schedule]) => (\n                            <div key={day} className=\"schedule-item\">\n                                <h4>{day.charAt(0).toUpperCase() + day.slice(1)}</h4>\n                                <label>\n                                    <input \n                                        type=\"checkbox\" \n                                        checked={schedule.enabled}\n                                        onChange={(e) => {\n                                            // Aqu√≠ ir√≠a la l√≥gica de actualizaci√≥n\n                                        }}\n                                    />\n                                    Habilitado\n                                </label>\n                                {schedule.enabled && (\n                                    <div className=\"time-inputs\">\n                                        <input \n                                            type=\"time\" \n                                            defaultValue={schedule.startTime}\n                                            disabled\n                                        />\n                                        <span>-</span>\n                                        <input \n                                            type=\"time\" \n                                            defaultValue={schedule.endTime}\n                                            disabled\n                                        />\n                                    </div>\n                                )}\n                            </div>\n                        ))}\n                    </div>\n                )}\n            </div>\n\n            {/* D√≠as de Descanso */}\n            <div className=\"section\">\n                <h3>üèñÔ∏è D√≠as de Descanso</h3>\n                <button \n                    className=\"btn-add\"\n                    onClick={() => setShowDayOff(!showDayOff)}\n                >\n                    + Agregar D√≠a de Descanso\n                </button>\n\n                {showDayOff && (\n                    <div className=\"day-off-form\">\n                        <input \n                            type=\"date\" \n                            value={dayOffDate}\n                            onChange={(e) => setDayOffDate(e.target.value)}\n                        />\n                        <input \n                            type=\"text\" \n                            placeholder=\"Raz√≥n (ej: Vacaciones)\"\n                            value={dayOffReason}\n                            onChange={(e) => setDayOffReason(e.target.value)}\n                        />\n                        <button className=\"btn-save\" onClick={handleAddDayOff}>\n                            Guardar\n                        </button>\n                    </div>\n                )}\n\n                {seller.daysOff && seller.daysOff.length > 0 && (\n                    <div className=\"days-off-list\">\n                        {seller.daysOff.map((day, idx) => (\n                            <div key={idx} className=\"day-off-item\">\n                                <span>{new Date(day.date).toLocaleDateString()}</span>\n                                <span>{day.reason}</span>\n                            </div>\n                        ))}\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n\nfunction ManageSellersForm({ onUpdate }) {\n    const [sellerId, setSellerId] = useState('');\n    const [sellerData, setSellerData] = useState(null);\n    const [isActive, setIsActive] = useState(true);\n\n    const handleSearch = async () => {\n        if (!sellerId) {\n            alert('Ingresa un ID de vendedor');\n            return;\n        }\n\n        try {\n            const response = await fetch(`/api/sellers/${sellerId}/status`);\n            if (response.ok) {\n                const data = await response.json();\n                setSellerData(data.status);\n                setIsActive(data.status.active);\n            } else {\n                alert('Vendedor no encontrado');\n            }\n        } catch (error) {\n            alert('Error: ' + error.message);\n        }\n    };\n\n    const handleToggle = async () => {\n        try {\n            const response = await fetch(`/api/sellers/${sellerId}/toggle-availability`, {\n                method: 'PUT',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({\n                    active: !isActive,\n                    reason: !isActive ? null : 'Deshabilitado'\n                })\n            });\n\n            if (response.ok) {\n                setIsActive(!isActive);\n                onUpdate();\n                alert('Estado actualizado');\n            }\n        } catch (error) {\n            alert('Error: ' + error.message);\n        }\n    };\n\n    return (\n        <div className=\"manage-form\">\n            <div className=\"search-box\">\n                <input \n                    type=\"text\" \n                    placeholder=\"ID del vendedor\"\n                    value={sellerId}\n                    onChange={(e) => setSellerId(e.target.value)}\n                />\n                <button className=\"btn-search\" onClick={handleSearch}>\n                    üîç Buscar\n                </button>\n            </div>\n\n            {sellerData && (\n                <div className=\"seller-manage-card\">\n                    <h3>{sellerData.name}</h3>\n                    <div className=\"manage-info\">\n                        <p><strong>Email:</strong> {sellerData.email}</p>\n                        <p><strong>Estado:</strong> {sellerData.status}</p>\n                        <p><strong>Trabajando ahora:</strong> {sellerData.isWorkingNow ? '‚úÖ S√≠' : '‚ùå No'}</p>\n                        <p><strong>Disponible:</strong> {sellerData.isAvailable ? '‚úÖ S√≠' : '‚ùå No'}</p>\n                    </div>\n                    <button \n                        className={`btn-toggle-status ${isActive ? 'active' : 'inactive'}`}\n                        onClick={handleToggle}\n                    >\n                        {isActive ? '‚úÖ Activo' : '‚ùå Inactivo'} - Cambiar\n                    </button>\n                </div>\n            )}\n        </div>\n    );\n}\n"],"names":["SellerAvailability","sellers","setSellers","useState","selectedSeller","setSelectedSeller","loading","setLoading","report","setReport","activeTab","setActiveTab","useEffect","loadData","interval","setInterval","clearInterval","async","availRes","reportRes","Promise","all","fetch","availData","json","reportData","error","console","_jsxs","className","children","_jsx","onClick","disabled","total","workingNow","available","offline","concat","length","map","seller","name","status","specialty","rating","toFixed","style","width","loadPercentage","id","ManageSellersForm","onUpdate","e","stopPropagation","SellerDetailsModal","_ref","showSchedule","setShowSchedule","showDayOff","setShowDayOff","dayOffDate","setDayOffDate","dayOffReason","setDayOffReason","currentClients","maxClients","workSchedule","Object","entries","_ref2","day","schedule","charAt","toUpperCase","slice","type","checked","enabled","onChange","defaultValue","startTime","endTime","value","target","placeholder","method","headers","body","JSON","stringify","date","reason","ok","alert","message","daysOff","idx","Date","toLocaleDateString","_ref3","sellerId","setSellerId","sellerData","setSellerData","isActive","setIsActive","response","data","active","email","isWorkingNow","isAvailable"],"sourceRoot":""}