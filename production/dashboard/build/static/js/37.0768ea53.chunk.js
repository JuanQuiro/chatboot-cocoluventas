"use strict";(self.webpackChunkcocolu_dashboard=self.webpackChunkcocolu_dashboard||[]).push([[37],{9037:(s,e,a)=>{a.r(e),a.d(e,{default:()=>j});var c=a(5043),i=a(108),r=a(2291),l=a(7734),d=a(2185),n=a(6026),t=a(6150),h=a(1327),m=a(8643),o=a(579);const j=()=>{const[s,e]=(0,c.useState)(null),[a,j]=(0,c.useState)(!0),x=(0,c.useCallback)(async()=>{try{const s=await fetch("/api/dashboard"),a=await s.json();a.success&&(e(a.data),j(!1))}catch(s){console.error("Error fetching dashboard data:",s)}},[]);if((0,c.useEffect)(()=>{x();const s=setInterval(x,5e3);return()=>clearInterval(s)},[x]),a)return(0,o.jsx)("div",{className:"loading",children:"Cargando dashboard..."});const{analytics:v,sellers:N,workload:u}=s;return(0,o.jsxs)("div",{className:"dashboard-page",children:[(0,o.jsx)("h2",{children:"Dashboard General"}),(0,o.jsxs)("div",{className:"metrics-grid",children:[(0,o.jsxs)("div",{className:"metric-card",children:[(0,o.jsx)("div",{className:"metric-icon",children:"\ud83d\udcac"}),(0,o.jsxs)("div",{className:"metric-content",children:[(0,o.jsx)("h3",{children:"Mensajes Totales"}),(0,o.jsx)("p",{className:"metric-value",children:v.totalMessages})]})]}),(0,o.jsxs)("div",{className:"metric-card",children:[(0,o.jsx)("div",{className:"metric-icon",children:"\ud83d\udc65"}),(0,o.jsxs)("div",{className:"metric-content",children:[(0,o.jsx)("h3",{children:"Usuarios \xdanicos"}),(0,o.jsx)("p",{className:"metric-value",children:v.uniqueUsers})]})]}),(0,o.jsxs)("div",{className:"metric-card",children:[(0,o.jsx)("div",{className:"metric-icon",children:"\ud83d\uded2"}),(0,o.jsxs)("div",{className:"metric-content",children:[(0,o.jsx)("h3",{children:"Pedidos Completados"}),(0,o.jsx)("p",{className:"metric-value",children:v.completedOrders})]})]}),(0,o.jsxs)("div",{className:"metric-card",children:[(0,o.jsx)("div",{className:"metric-icon",children:"\ud83d\udcb0"}),(0,o.jsxs)("div",{className:"metric-content",children:[(0,o.jsx)("h3",{children:"Tasa de Conversi\xf3n"}),(0,o.jsxs)("p",{className:"metric-value",children:[v.conversionRate,"%"]})]})]}),(0,o.jsxs)("div",{className:"metric-card",children:[(0,o.jsx)("div",{className:"metric-icon",children:"\u26a1"}),(0,o.jsxs)("div",{className:"metric-content",children:[(0,o.jsx)("h3",{children:"Tiempo Respuesta"}),(0,o.jsxs)("p",{className:"metric-value",children:[v.averageResponseTime,"ms"]})]})]}),(0,o.jsxs)("div",{className:"metric-card",children:[(0,o.jsx)("div",{className:"metric-icon",children:"\ud83c\udfaf"}),(0,o.jsxs)("div",{className:"metric-content",children:[(0,o.jsx)("h3",{children:"Conversaciones Activas"}),(0,o.jsx)("p",{className:"metric-value",children:v.activeConversations})]})]})]}),(0,o.jsxs)("div",{className:"charts-grid",children:[(0,o.jsxs)("div",{className:"chart-card",children:[(0,o.jsx)("h3",{children:"Carga de Trabajo por Vendedor"}),(0,o.jsx)(i.u,{width:"100%",height:300,children:(0,o.jsxs)(r.E,{data:u,children:[(0,o.jsx)(l.d,{strokeDasharray:"3 3"}),(0,o.jsx)(d.W,{dataKey:"name"}),(0,o.jsx)(n.h,{}),(0,o.jsx)(t.m,{}),(0,o.jsx)(h.s,{}),(0,o.jsx)(m.y,{dataKey:"currentClients",fill:"#8884d8",name:"Clientes Actuales"}),(0,o.jsx)(m.y,{dataKey:"maxClients",fill:"#82ca9d",name:"Capacidad M\xe1xima"})]})})]}),(0,o.jsxs)("div",{className:"chart-card",children:[(0,o.jsx)("h3",{children:"Estado de Vendedores"}),(0,o.jsx)("div",{className:"sellers-status",children:N.sellersStats.map((s,e)=>(0,o.jsxs)("div",{className:"seller-status-item",children:[(0,o.jsxs)("div",{className:"seller-info",children:[(0,o.jsx)("span",{className:"seller-name",children:s.name}),(0,o.jsxs)("span",{className:"seller-status ".concat(s.status),children:["available"===s.status?"\ud83d\udfe2":"busy"===s.status?"\ud83d\udfe1":"\ud83d\udd34",s.status]})]}),(0,o.jsxs)("div",{className:"seller-clients",children:[s.currentClients," clientes \u2022 \u2b50 ",s.rating]})]},s.id))})]})]}),(0,o.jsx)("div",{className:"stats-summary",children:(0,o.jsxs)("div",{className:"stats-card",children:[(0,o.jsx)("h3",{children:"Resumen de Vendedores"}),(0,o.jsxs)("div",{className:"stats-content",children:[(0,o.jsxs)("div",{className:"stat-row",children:[(0,o.jsx)("span",{children:"Total de Vendedores:"}),(0,o.jsx)("strong",{children:N.totalSellers})]}),(0,o.jsxs)("div",{className:"stat-row",children:[(0,o.jsx)("span",{children:"Vendedores Activos:"}),(0,o.jsx)("strong",{children:N.activeSellers})]}),(0,o.jsxs)("div",{className:"stat-row",children:[(0,o.jsx)("span",{children:"Asignaciones Totales:"}),(0,o.jsx)("strong",{children:N.totalAssignments})]}),(0,o.jsxs)("div",{className:"stat-row",children:[(0,o.jsx)("span",{children:"Conversaciones Activas:"}),(0,o.jsx)("strong",{children:N.activeConversations})]})]})]})})]})}}}]);
//# sourceMappingURL=37.0768ea53.chunk.js.map