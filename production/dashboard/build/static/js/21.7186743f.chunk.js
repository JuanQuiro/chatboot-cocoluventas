/*! For license information please see 21.7186743f.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkcocolu_dashboard=self.webpackChunkcocolu_dashboard||[]).push([[21],{2021:(s,e,a)=>{a.r(e),a.d(e,{default:()=>h});a(5043);var l=a(9875),i=a(4319),n=a(8995);const c=(0,n.A)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),r=(0,n.A)("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),t=(0,n.A)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);var d=a(4634),o=a(579);function h(){const{data:s,isLoading:e,error:a}=(0,d.Wz)();if(e)return(0,o.jsxs)("div",{className:"health-page loading",children:[(0,o.jsx)("div",{className:"spinner"}),(0,o.jsx)("p",{children:"Cargando estado del sistema..."})]});if(a)return(0,o.jsxs)("div",{className:"health-page error",children:[(0,o.jsx)(l.A,{size:64}),(0,o.jsx)("h2",{children:"Error cargando estado del sistema"}),(0,o.jsx)("p",{children:a.message})]});const n="healthy"===(null===s||void 0===s?void 0:s.status),h=(null===s||void 0===s?void 0:s.uptime)||0,v=Math.floor(h/3600),m=Math.floor(h%3600/60);return(0,o.jsxs)("div",{className:"health-page",children:[(0,o.jsxs)("div",{className:"page-header",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{children:"\u2764\ufe0f Salud del Sistema"}),(0,o.jsx)("p",{className:"subtitle",children:"Monitor de estado y m\xe9tricas"})]}),(0,o.jsx)("div",{className:"health-badge ".concat(n?"healthy":"unhealthy"),children:n?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.A,{size:20}),"Sistema Saludable"]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.A,{size:20}),"Sistema con Problemas"]})})]}),(0,o.jsxs)("div",{className:"stats-grid",children:[(0,o.jsxs)("div",{className:"stat-card uptime",children:[(0,o.jsx)("div",{className:"stat-icon",children:(0,o.jsx)(c,{size:32})}),(0,o.jsxs)("div",{className:"stat-content",children:[(0,o.jsx)("div",{className:"stat-label",children:"Uptime"}),(0,o.jsxs)("div",{className:"stat-value",children:[v,"h ",m,"m"]}),(0,o.jsxs)("div",{className:"stat-detail",children:[h.toFixed(0),"s total"]})]})]}),(0,o.jsxs)("div",{className:"stat-card version",children:[(0,o.jsx)("div",{className:"stat-icon",children:(0,o.jsx)(r,{size:32})}),(0,o.jsxs)("div",{className:"stat-content",children:[(0,o.jsx)("div",{className:"stat-label",children:"Versi\xf3n"}),(0,o.jsx)("div",{className:"stat-value",children:(null===s||void 0===s?void 0:s.version)||"N/A"}),(0,o.jsx)("div",{className:"stat-detail",children:"Node.js"})]})]}),(0,o.jsxs)("div",{className:"stat-card performance",children:[(0,o.jsx)("div",{className:"stat-icon",children:(0,o.jsx)(t,{size:32})}),(0,o.jsxs)("div",{className:"stat-content",children:[(0,o.jsx)("div",{className:"stat-label",children:"Estado"}),(0,o.jsx)("div",{className:"stat-value",children:(null===s||void 0===s?void 0:s.status)||"unknown"}),(0,o.jsx)("div",{className:"stat-detail",children:"Tiempo real"})]})]})]}),(null===s||void 0===s?void 0:s.bots)&&(0,o.jsxs)("div",{className:"section-card",children:[(0,o.jsx)("h2",{children:"\ud83e\udd16 Bots"}),(0,o.jsxs)("div",{className:"bots-summary",children:[(0,o.jsxs)("div",{className:"bot-stat",children:[(0,o.jsx)("span",{className:"label",children:"Total:"}),(0,o.jsx)("span",{className:"value",children:s.bots.totalBots||0})]}),(0,o.jsxs)("div",{className:"bot-stat",children:[(0,o.jsx)("span",{className:"label",children:"Activos:"}),(0,o.jsx)("span",{className:"value success",children:s.bots.activeBots||0})]}),(0,o.jsxs)("div",{className:"bot-stat",children:[(0,o.jsx)("span",{className:"label",children:"Inactivos:"}),(0,o.jsx)("span",{className:"value warning",children:s.bots.inactiveBots||0})]})]})]}),(null===s||void 0===s?void 0:s.sellers)&&(0,o.jsxs)("div",{className:"section-card",children:[(0,o.jsx)("h2",{children:"\ud83d\udc65 Vendedores"}),(0,o.jsxs)("div",{className:"sellers-summary",children:[(0,o.jsxs)("div",{className:"seller-stat",children:[(0,o.jsx)("span",{className:"label",children:"Total:"}),(0,o.jsx)("span",{className:"value",children:s.sellers.totalSellers||0})]}),(0,o.jsxs)("div",{className:"seller-stat",children:[(0,o.jsx)("span",{className:"label",children:"Disponibles:"}),(0,o.jsx)("span",{className:"value success",children:s.sellers.availableSellers||0})]}),(0,o.jsxs)("div",{className:"seller-stat",children:[(0,o.jsx)("span",{className:"label",children:"Ocupados:"}),(0,o.jsx)("span",{className:"value warning",children:s.sellers.busySellers||0})]})]})]}),(null===s||void 0===s?void 0:s.analytics)&&(0,o.jsxs)("div",{className:"section-card",children:[(0,o.jsx)("h2",{children:"\ud83d\udcca Analytics"}),(0,o.jsxs)("div",{className:"analytics-grid",children:[(0,o.jsxs)("div",{className:"analytics-item",children:[(0,o.jsx)("span",{className:"label",children:"Total Mensajes"}),(0,o.jsx)("span",{className:"value",children:s.analytics.totalMessages||0})]}),(0,o.jsxs)("div",{className:"analytics-item",children:[(0,o.jsx)("span",{className:"label",children:"Sesiones Activas"}),(0,o.jsx)("span",{className:"value",children:s.analytics.activeSessions||0})]}),(0,o.jsxs)("div",{className:"analytics-item",children:[(0,o.jsx)("span",{className:"label",children:"Tasa de Respuesta"}),(0,o.jsxs)("span",{className:"value",children:[s.analytics.responseRate||0,"%"]})]})]})]}),(0,o.jsxs)("div",{className:"section-card",children:[(0,o.jsx)("h2",{children:"\ud83d\udd0d Respuesta Completa de la API"}),(0,o.jsx)("pre",{className:"raw-response",children:JSON.stringify(s,null,2)})]})]})}},4634:(s,e,a)=>{a.d(e,{Vp:()=>t,Wz:()=>d});var l=a(2532),i=a(3248),n=a(7097),c=a(6305),r=a(3768);function t(){const s=(0,i.jE)(),{data:e,isLoading:a,error:t}=(0,l.I)({queryKey:["meta-config"],queryFn:c.O.getConfig,staleTime:3e4}),d=(0,n.n)({mutationFn:c.O.saveConfig,onSuccess:()=>{s.invalidateQueries(["meta-config"]),r.Ay.success("\u2705 Configuraci\xf3n guardada")},onError:s=>{var e,a;r.Ay.error((null===(e=s.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.error)||"Error guardando configuraci\xf3n")}}),o=(0,n.n)({mutationFn:c.O.testMessage,onSuccess:()=>{r.Ay.success("\u2705 Mensaje de prueba enviado")},onError:s=>{var e,a;r.Ay.error((null===(e=s.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.error)||"Error enviando test")}});return{config:e,isLoading:a,error:t,saveConfig:d.mutate,testMessage:o.mutate,isSaving:d.isPending,isTesting:o.isPending}}function d(){return(0,l.I)({queryKey:["health"],queryFn:c.HN.getHealth,refetchInterval:3e4,staleTime:1e4})}}}]);
//# sourceMappingURL=21.7186743f.chunk.js.map