"use strict";(self.webpackChunkcocolu_dashboard=self.webpackChunkcocolu_dashboard||[]).push([[9],{6009:(s,e,a)=>{a.r(e),a.d(e,{default:()=>c});var l=a(5043),i=a(579);const c=()=>{const[s,e]=(0,l.useState)([]),[a,c]=(0,l.useState)(!0),r=(0,l.useCallback)(async()=>{try{const s=await fetch("/api/sellers"),a=await s.json();a.success&&(e(a.data),c(!1))}catch(s){console.error("Error fetching sellers:",s)}},[]);(0,l.useEffect)(()=>{r();const s=setInterval(r,3e3);return()=>clearInterval(s)},[r]);const t=async(s,e)=>{try{await fetch("/api/sellers/".concat(s,"/status"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:e})}),r()}catch(a){console.error("Error updating seller status:",a)}};return a?(0,i.jsx)("div",{className:"loading",children:"Cargando vendedores..."}):(0,i.jsxs)("div",{className:"sellers-page",children:[(0,i.jsxs)("div",{className:"page-header",children:[(0,i.jsx)("h2",{children:"\ud83d\udc65 Gesti\xf3n de Vendedores"}),(0,i.jsx)("p",{children:"Sistema de rotaci\xf3n Round-Robin autom\xe1tico"})]}),(0,i.jsx)("div",{className:"sellers-grid",children:s.map(s=>(0,i.jsxs)("div",{className:"seller-card",children:[(0,i.jsxs)("div",{className:"seller-header",children:[(0,i.jsx)("div",{className:"seller-avatar",children:s.name.charAt(0)}),(0,i.jsxs)("div",{className:"seller-title",children:[(0,i.jsx)("h3",{children:s.name}),(0,i.jsx)("span",{className:"seller-specialty",children:s.specialty})]}),(0,i.jsx)("div",{className:"status-badge ".concat(s.status),children:"available"===s.status?"\ud83d\udfe2":"busy"===s.status?"\ud83d\udfe1":"\ud83d\udd34"})]}),(0,i.jsxs)("div",{className:"seller-details",children:[(0,i.jsxs)("div",{className:"detail-row",children:[(0,i.jsx)("span",{children:"\ud83d\udce7"}),(0,i.jsx)("span",{children:s.email})]}),(0,i.jsxs)("div",{className:"detail-row",children:[(0,i.jsx)("span",{children:"\ud83d\udcf1"}),(0,i.jsx)("span",{children:s.phone})]}),(0,i.jsxs)("div",{className:"detail-row",children:[(0,i.jsx)("span",{children:"\ud83c\udfaf"}),(0,i.jsxs)("span",{children:["Especialidad: ",s.specialty]})]})]}),(0,i.jsxs)("div",{className:"seller-metrics",children:[(0,i.jsxs)("div",{className:"metric",children:[(0,i.jsx)("div",{className:"metric-label",children:"Clientes Actuales"}),(0,i.jsxs)("div",{className:"metric-value",children:[s.currentClients," / ",s.maxClients]}),(0,i.jsx)("div",{className:"progress-bar",children:(0,i.jsx)("div",{className:"progress-fill",style:{width:"".concat(s.currentClients/s.maxClients*100,"%")}})})]}),(0,i.jsxs)("div",{className:"metric-row",children:[(0,i.jsxs)("div",{className:"metric-small",children:[(0,i.jsx)("div",{className:"metric-label",children:"Ventas Totales"}),(0,i.jsx)("div",{className:"metric-value",children:s.totalSales})]}),(0,i.jsxs)("div",{className:"metric-small",children:[(0,i.jsx)("div",{className:"metric-label",children:"Rating"}),(0,i.jsxs)("div",{className:"metric-value",children:["\u2b50 ",s.rating]})]})]})]}),(0,i.jsxs)("div",{className:"seller-actions",children:[(0,i.jsx)("button",{className:"btn btn-success",onClick:()=>t(s.id,"available"),disabled:"available"===s.status,children:"Disponible"}),(0,i.jsx)("button",{className:"btn btn-warning",onClick:()=>t(s.id,"busy"),disabled:"busy"===s.status,children:"Ocupado"}),(0,i.jsx)("button",{className:"btn btn-danger",onClick:()=>t(s.id,"offline"),disabled:"offline"===s.status,children:"Offline"})]})]},s.id))})]})}}}]);
//# sourceMappingURL=9.360d6d41.chunk.js.map