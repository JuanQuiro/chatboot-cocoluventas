"use strict";(self.webpackChunkcocolu_dashboard=self.webpackChunkcocolu_dashboard||[]).push([[232],{5232:(s,e,a)=>{a.r(e),a.d(e,{default:()=>v});var c=a(5043),i=a(108),r=a(8420),l=a(8643),d=a(2185),n=a(6026),t=a(3831),h=(0,r.gu)({chartName:"BarChart",GraphicalChild:l.y,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:d.W},{axisType:"yAxis",AxisComp:n.h}],formatAxisMap:t.pr}),m=a(7734),o=a(6150),x=a(1327),j=a(579);const v=()=>{const[s,e]=(0,c.useState)(null),[a,r]=(0,c.useState)(!0),t=(0,c.useCallback)(async()=>{try{const s=await fetch("/api/dashboard"),a=await s.json();a.success&&(e(a.data),r(!1))}catch(s){console.error("Error fetching dashboard data:",s)}},[]);if((0,c.useEffect)(()=>{t();const s=setInterval(t,5e3);return()=>clearInterval(s)},[t]),a)return(0,j.jsx)("div",{className:"loading",children:"Cargando dashboard..."});const{analytics:v,sellers:N,workload:u}=s;return(0,j.jsxs)("div",{className:"dashboard-page",children:[(0,j.jsx)("h2",{children:"Dashboard General"}),(0,j.jsxs)("div",{className:"metrics-grid",children:[(0,j.jsxs)("div",{className:"metric-card",children:[(0,j.jsx)("div",{className:"metric-icon",children:"\ud83d\udcac"}),(0,j.jsxs)("div",{className:"metric-content",children:[(0,j.jsx)("h3",{children:"Mensajes Totales"}),(0,j.jsx)("p",{className:"metric-value",children:v.totalMessages})]})]}),(0,j.jsxs)("div",{className:"metric-card",children:[(0,j.jsx)("div",{className:"metric-icon",children:"\ud83d\udc65"}),(0,j.jsxs)("div",{className:"metric-content",children:[(0,j.jsx)("h3",{children:"Usuarios \xdanicos"}),(0,j.jsx)("p",{className:"metric-value",children:v.uniqueUsers})]})]}),(0,j.jsxs)("div",{className:"metric-card",children:[(0,j.jsx)("div",{className:"metric-icon",children:"\ud83d\uded2"}),(0,j.jsxs)("div",{className:"metric-content",children:[(0,j.jsx)("h3",{children:"Pedidos Completados"}),(0,j.jsx)("p",{className:"metric-value",children:v.completedOrders})]})]}),(0,j.jsxs)("div",{className:"metric-card",children:[(0,j.jsx)("div",{className:"metric-icon",children:"\ud83d\udcb0"}),(0,j.jsxs)("div",{className:"metric-content",children:[(0,j.jsx)("h3",{children:"Tasa de Conversi\xf3n"}),(0,j.jsxs)("p",{className:"metric-value",children:[v.conversionRate,"%"]})]})]}),(0,j.jsxs)("div",{className:"metric-card",children:[(0,j.jsx)("div",{className:"metric-icon",children:"\u26a1"}),(0,j.jsxs)("div",{className:"metric-content",children:[(0,j.jsx)("h3",{children:"Tiempo Respuesta"}),(0,j.jsxs)("p",{className:"metric-value",children:[v.averageResponseTime,"ms"]})]})]}),(0,j.jsxs)("div",{className:"metric-card",children:[(0,j.jsx)("div",{className:"metric-icon",children:"\ud83c\udfaf"}),(0,j.jsxs)("div",{className:"metric-content",children:[(0,j.jsx)("h3",{children:"Conversaciones Activas"}),(0,j.jsx)("p",{className:"metric-value",children:v.activeConversations})]})]})]}),(0,j.jsxs)("div",{className:"charts-grid",children:[(0,j.jsxs)("div",{className:"chart-card",children:[(0,j.jsx)("h3",{children:"Carga de Trabajo por Vendedor"}),(0,j.jsx)(i.u,{width:"100%",height:300,children:(0,j.jsxs)(h,{data:u,children:[(0,j.jsx)(m.d,{strokeDasharray:"3 3"}),(0,j.jsx)(d.W,{dataKey:"name"}),(0,j.jsx)(n.h,{}),(0,j.jsx)(o.m,{}),(0,j.jsx)(x.s,{}),(0,j.jsx)(l.y,{dataKey:"currentClients",fill:"#8884d8",name:"Clientes Actuales"}),(0,j.jsx)(l.y,{dataKey:"maxClients",fill:"#82ca9d",name:"Capacidad M\xe1xima"})]})})]}),(0,j.jsxs)("div",{className:"chart-card",children:[(0,j.jsx)("h3",{children:"Estado de Vendedores"}),(0,j.jsx)("div",{className:"sellers-status",children:N.sellersStats.map((s,e)=>(0,j.jsxs)("div",{className:"seller-status-item",children:[(0,j.jsxs)("div",{className:"seller-info",children:[(0,j.jsx)("span",{className:"seller-name",children:s.name}),(0,j.jsxs)("span",{className:"seller-status ".concat(s.status),children:["available"===s.status?"\ud83d\udfe2":"busy"===s.status?"\ud83d\udfe1":"\ud83d\udd34",s.status]})]}),(0,j.jsxs)("div",{className:"seller-clients",children:[s.currentClients," clientes \u2022 \u2b50 ",s.rating]})]},s.id))})]})]}),(0,j.jsx)("div",{className:"stats-summary",children:(0,j.jsxs)("div",{className:"stats-card",children:[(0,j.jsx)("h3",{children:"Resumen de Vendedores"}),(0,j.jsxs)("div",{className:"stats-content",children:[(0,j.jsxs)("div",{className:"stat-row",children:[(0,j.jsx)("span",{children:"Total de Vendedores:"}),(0,j.jsx)("strong",{children:N.totalSellers})]}),(0,j.jsxs)("div",{className:"stat-row",children:[(0,j.jsx)("span",{children:"Vendedores Activos:"}),(0,j.jsx)("strong",{children:N.activeSellers})]}),(0,j.jsxs)("div",{className:"stat-row",children:[(0,j.jsx)("span",{children:"Asignaciones Totales:"}),(0,j.jsx)("strong",{children:N.totalAssignments})]}),(0,j.jsxs)("div",{className:"stat-row",children:[(0,j.jsx)("span",{children:"Conversaciones Activas:"}),(0,j.jsx)("strong",{children:N.activeConversations})]})]})]})})]})}}}]);
//# sourceMappingURL=232.c27b6a3d.chunk.js.map