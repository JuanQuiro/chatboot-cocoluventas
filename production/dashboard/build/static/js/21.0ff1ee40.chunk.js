/*! For license information please see 21.0ff1ee40.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkcocolu_dashboard=self.webpackChunkcocolu_dashboard||[]).push([[21],{2021:(s,e,a)=>{a.r(e),a.d(e,{default:()=>h});a(5043);var t=a(9875),i=a(4319),l=a(8995);const n=(0,l.A)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),r=(0,l.A)("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),c=(0,l.A)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);var d=a(7701),o=a(579);function h(){const{data:s,isLoading:e,error:a}=(0,d.Wz)();if(e)return(0,o.jsxs)("div",{className:"health-page loading",children:[(0,o.jsx)("div",{className:"spinner"}),(0,o.jsx)("p",{children:"Cargando estado del sistema..."})]});if(a)return(0,o.jsxs)("div",{className:"health-page error",children:[(0,o.jsx)(t.A,{size:64}),(0,o.jsx)("h2",{children:"Error cargando estado del sistema"}),(0,o.jsx)("p",{children:a.message})]});const l="healthy"===(null===s||void 0===s?void 0:s.status),h=(null===s||void 0===s?void 0:s.uptime)||0,u=Math.floor(h/3600),v=Math.floor(h%3600/60);return(0,o.jsxs)("div",{className:"health-page",children:[(0,o.jsxs)("div",{className:"page-header",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{children:"\u2764\ufe0f Salud del Sistema"}),(0,o.jsx)("p",{className:"subtitle",children:"Monitor de estado y m\xe9tricas"})]}),(0,o.jsx)("div",{className:"health-badge ".concat(l?"healthy":"unhealthy"),children:l?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.A,{size:20}),"Sistema Saludable"]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.A,{size:20}),"Sistema con Problemas"]})})]}),(0,o.jsxs)("div",{className:"stats-grid",children:[(0,o.jsxs)("div",{className:"stat-card uptime",children:[(0,o.jsx)("div",{className:"stat-icon",children:(0,o.jsx)(n,{size:32})}),(0,o.jsxs)("div",{className:"stat-content",children:[(0,o.jsx)("div",{className:"stat-label",children:"Uptime"}),(0,o.jsxs)("div",{className:"stat-value",children:[u,"h ",v,"m"]}),(0,o.jsxs)("div",{className:"stat-detail",children:[h.toFixed(0),"s total"]})]})]}),(0,o.jsxs)("div",{className:"stat-card version",children:[(0,o.jsx)("div",{className:"stat-icon",children:(0,o.jsx)(r,{size:32})}),(0,o.jsxs)("div",{className:"stat-content",children:[(0,o.jsx)("div",{className:"stat-label",children:"Versi\xf3n"}),(0,o.jsx)("div",{className:"stat-value",children:(null===s||void 0===s?void 0:s.version)||"N/A"}),(0,o.jsx)("div",{className:"stat-detail",children:"Node.js"})]})]}),(0,o.jsxs)("div",{className:"stat-card performance",children:[(0,o.jsx)("div",{className:"stat-icon",children:(0,o.jsx)(c,{size:32})}),(0,o.jsxs)("div",{className:"stat-content",children:[(0,o.jsx)("div",{className:"stat-label",children:"Estado"}),(0,o.jsx)("div",{className:"stat-value",children:(null===s||void 0===s?void 0:s.status)||"unknown"}),(0,o.jsx)("div",{className:"stat-detail",children:"Tiempo real"})]})]})]}),(null===s||void 0===s?void 0:s.bots)&&(0,o.jsxs)("div",{className:"section-card",children:[(0,o.jsx)("h2",{children:"\ud83e\udd16 Bots"}),(0,o.jsxs)("div",{className:"bots-summary",children:[(0,o.jsxs)("div",{className:"bot-stat",children:[(0,o.jsx)("span",{className:"label",children:"Total:"}),(0,o.jsx)("span",{className:"value",children:s.bots.totalBots||0})]}),(0,o.jsxs)("div",{className:"bot-stat",children:[(0,o.jsx)("span",{className:"label",children:"Activos:"}),(0,o.jsx)("span",{className:"value success",children:s.bots.activeBots||0})]}),(0,o.jsxs)("div",{className:"bot-stat",children:[(0,o.jsx)("span",{className:"label",children:"Inactivos:"}),(0,o.jsx)("span",{className:"value warning",children:s.bots.inactiveBots||0})]})]})]}),(null===s||void 0===s?void 0:s.sellers)&&(0,o.jsxs)("div",{className:"section-card",children:[(0,o.jsx)("h2",{children:"\ud83d\udc65 Vendedores"}),(0,o.jsxs)("div",{className:"sellers-summary",children:[(0,o.jsxs)("div",{className:"seller-stat",children:[(0,o.jsx)("span",{className:"label",children:"Total:"}),(0,o.jsx)("span",{className:"value",children:s.sellers.totalSellers||0})]}),(0,o.jsxs)("div",{className:"seller-stat",children:[(0,o.jsx)("span",{className:"label",children:"Disponibles:"}),(0,o.jsx)("span",{className:"value success",children:s.sellers.availableSellers||0})]}),(0,o.jsxs)("div",{className:"seller-stat",children:[(0,o.jsx)("span",{className:"label",children:"Ocupados:"}),(0,o.jsx)("span",{className:"value warning",children:s.sellers.busySellers||0})]})]})]}),(null===s||void 0===s?void 0:s.analytics)&&(0,o.jsxs)("div",{className:"section-card",children:[(0,o.jsx)("h2",{children:"\ud83d\udcca Analytics"}),(0,o.jsxs)("div",{className:"analytics-grid",children:[(0,o.jsxs)("div",{className:"analytics-item",children:[(0,o.jsx)("span",{className:"label",children:"Total Mensajes"}),(0,o.jsx)("span",{className:"value",children:s.analytics.totalMessages||0})]}),(0,o.jsxs)("div",{className:"analytics-item",children:[(0,o.jsx)("span",{className:"label",children:"Sesiones Activas"}),(0,o.jsx)("span",{className:"value",children:s.analytics.activeSessions||0})]}),(0,o.jsxs)("div",{className:"analytics-item",children:[(0,o.jsx)("span",{className:"label",children:"Tasa de Respuesta"}),(0,o.jsxs)("span",{className:"value",children:[s.analytics.responseRate||0,"%"]})]})]})]}),(0,o.jsxs)("div",{className:"section-card",children:[(0,o.jsx)("h2",{children:"\ud83d\udd0d Respuesta Completa de la API"}),(0,o.jsx)("pre",{className:"raw-response",children:JSON.stringify(s,null,2)})]})]})}},4319:(s,e,a)=>{a.d(e,{A:()=>t});const t=(0,a(8995).A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},7701:(s,e,a)=>{a.d(e,{Wz:()=>C,Vp:()=>w});var t,i,l,n,r,c=a(3248),d=a(2532),o=a(2555),h=a(5043),u=a(9790),v=a(5149),m=a(8458),x=a(6562),j=a(4558),p=a(5239),N=a(1454),y=a(329),A=a(9723),b=(t=new WeakMap,i=new WeakMap,l=new WeakMap,n=new WeakMap,r=new WeakSet,class extends y.Q{constructor(s,e){super(),(0,u.A)(this,r),(0,v.A)(this,t,void 0),(0,v.A)(this,i,void 0),(0,v.A)(this,l,void 0),(0,v.A)(this,n,void 0),(0,j.A)(t,this,s),this.setOptions(e),this.bindMethods(),(0,x.A)(r,this,g).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var e;const a=this.options;this.options=(0,m.A)(t,this).defaultMutationOptions(s),(0,A.f8)(this.options,a)||(0,m.A)(t,this).getMutationCache().notify({type:"observerOptionsUpdated",mutation:(0,m.A)(l,this),observer:this}),null!==a&&void 0!==a&&a.mutationKey&&this.options.mutationKey&&(0,A.EN)(a.mutationKey)!==(0,A.EN)(this.options.mutationKey)?this.reset():"pending"===(null===(e=(0,m.A)(l,this))||void 0===e?void 0:e.state.status)&&(0,m.A)(l,this).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(null===(s=(0,m.A)(l,this))||void 0===s||s.removeObserver(this))}onMutationUpdate(s){(0,x.A)(r,this,g).call(this),(0,x.A)(r,this,f).call(this,s)}getCurrentResult(){return(0,m.A)(i,this)}reset(){var s;null===(s=(0,m.A)(l,this))||void 0===s||s.removeObserver(this),(0,j.A)(l,this,void 0),(0,x.A)(r,this,g).call(this),(0,x.A)(r,this,f).call(this)}mutate(s,e){var a;return(0,j.A)(n,this,e),null===(a=(0,m.A)(l,this))||void 0===a||a.removeObserver(this),(0,j.A)(l,this,(0,m.A)(t,this).getMutationCache().build((0,m.A)(t,this),this.options)),(0,m.A)(l,this).addObserver(this),(0,m.A)(l,this).execute(s)}});function g(){var s,e;const a=null!==(s=null===(e=(0,m.A)(l,this))||void 0===e?void 0:e.state)&&void 0!==s?s:(0,p.$)();(0,j.A)(i,this,(0,o.A)((0,o.A)({},a),{},{isPending:"pending"===a.status,isSuccess:"success"===a.status,isError:"error"===a.status,isIdle:"idle"===a.status,mutate:this.mutate,reset:this.reset}))}function f(s){N.jG.batch(()=>{if((0,m.A)(n,this)&&this.hasListeners()){const u=(0,m.A)(i,this).variables,v=(0,m.A)(i,this).context,x={client:(0,m.A)(t,this),meta:this.options.meta,mutationKey:this.options.mutationKey};var e,a,l,r;if("success"===(null===s||void 0===s?void 0:s.type))null===(e=(a=(0,m.A)(n,this)).onSuccess)||void 0===e||e.call(a,s.data,u,v,x),null===(l=(r=(0,m.A)(n,this)).onSettled)||void 0===l||l.call(r,s.data,null,u,v,x);else if("error"===(null===s||void 0===s?void 0:s.type)){var c,d,o,h;null===(c=(d=(0,m.A)(n,this)).onError)||void 0===c||c.call(d,s.error,u,v,x),null===(o=(h=(0,m.A)(n,this)).onSettled)||void 0===o||o.call(h,void 0,s.error,u,v,x)}}this.listeners.forEach(s=>{s((0,m.A)(i,this))})})}function k(s,e){const a=(0,c.jE)(e),[t]=h.useState(()=>new b(a,s));h.useEffect(()=>{t.setOptions(s)},[t,s]);const i=h.useSyncExternalStore(h.useCallback(s=>t.subscribe(N.jG.batchCalls(s)),[t]),()=>t.getCurrentResult(),()=>t.getCurrentResult()),l=h.useCallback((s,e)=>{t.mutate(s,e).catch(A.lQ)},[t]);if(i.error&&(0,A.GU)(t.options.throwOnError,[i.error]))throw i.error;return(0,o.A)((0,o.A)({},i),{},{mutate:l,mutateAsync:i.mutate})}var S=a(6305),M=a(3768);function w(){const s=(0,c.jE)(),{data:e,isLoading:a,error:t}=(0,d.I)({queryKey:["meta-config"],queryFn:S.O.getConfig,staleTime:3e4}),i=k({mutationFn:S.O.saveConfig,onSuccess:()=>{s.invalidateQueries(["meta-config"]),M.Ay.success("\u2705 Configuraci\xf3n guardada")},onError:s=>{var e,a;M.Ay.error((null===(e=s.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.error)||"Error guardando configuraci\xf3n")}}),l=k({mutationFn:S.O.testMessage,onSuccess:()=>{M.Ay.success("\u2705 Mensaje de prueba enviado")},onError:s=>{var e,a;M.Ay.error((null===(e=s.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.error)||"Error enviando test")}});return{config:e,isLoading:a,error:t,saveConfig:i.mutate,testMessage:l.mutate,isSaving:i.isPending,isTesting:l.isPending}}function C(){return(0,d.I)({queryKey:["health"],queryFn:S.HN.getHealth,refetchInterval:3e4,staleTime:1e4})}},9875:(s,e,a)=>{a.d(e,{A:()=>t});const t=(0,a(8995).A)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])}}]);
//# sourceMappingURL=21.0ff1ee40.chunk.js.map