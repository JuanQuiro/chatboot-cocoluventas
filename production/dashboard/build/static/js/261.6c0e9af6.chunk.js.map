{"version":3,"file":"static/js/261.6c0e9af6.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/refresh-cw.ts","pages/Messages.jsx","../node_modules/lucide-react/src/defaultAttributes.ts","../node_modules/lucide-react/src/createLucideIcon.ts","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name RefreshCw\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyAxMmE5IDkgMCAwIDEgOS05IDkuNzUgOS43NSAwIDAgMSA2Ljc0IDIuNzRMMjEgOCIgLz4KICA8cGF0aCBkPSJNMjEgM3Y1aC01IiAvPgogIDxwYXRoIGQ9Ik0yMSAxMmE5IDkgMCAwIDEtOSA5IDkuNzUgOS43NSAwIDAgMS02Ljc0LTIuNzRMMyAxNiIgLz4KICA8cGF0aCBkPSJNOCAxNkgzdjUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/refresh-cw\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst RefreshCw = createLucideIcon('RefreshCw', [\n  ['path', { d: 'M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8', key: 'v9h5vc' }],\n  ['path', { d: 'M21 3v5h-5', key: '1q7to0' }],\n  ['path', { d: 'M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16', key: '3uifl3' }],\n  ['path', { d: 'M8 16H3v5', key: '1cv678' }],\n]);\n\nexport default RefreshCw;\n","import React, { useState, useEffect } from 'react';\nimport { RefreshCw } from 'lucide-react';\nimport toast from 'react-hot-toast';\nimport '../styles/Messages.css';\n\nexport default function Messages() {\n    const [messages, setMessages] = useState({ received: [], sent: [], errors: [] });\n    const [selectedMessage, setSelectedMessage] = useState(null);\n    const [selectedType, setSelectedType] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [lastUpdate, setLastUpdate] = useState(null);\n\n    const fetchMessages = async () => {\n        try {\n            const res = await fetch('/api/open/messages');\n            const json = await res.json();\n            if (json.success) {\n                setMessages(json.data || { received: [], sent: [], errors: [] });\n                setLastUpdate(new Date());\n            }\n        } catch (error) {\n            console.error('Error fetching messages:', error);\n            toast.error('Error cargando mensajes');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    useEffect(() => {\n        fetchMessages();\n\n        // SSE connection for real-time updates\n        const eventSource = new EventSource('/api/events');\n        eventSource.addEventListener('messages', (evt) => {\n            try {\n                const data = JSON.parse(evt.data);\n                setMessages(data);\n                setLastUpdate(new Date());\n            } catch (e) {\n                console.error('Error parsing SSE:', e);\n            }\n        });\n\n        return () => eventSource.close();\n    }, []);\n\n    const statsLastHour = () => {\n        const oneHourAgo = Date.now() - 3600000;\n        const inHour = messages.received.filter(m => new Date(m.timestamp).getTime() >= oneHourAgo).length;\n        const outHour = messages.sent.filter(m => new Date(m.timestamp).getTime() >= oneHourAgo).length;\n        const errHour = messages.errors.filter(m => new Date(m.timestamp).getTime() >= oneHourAgo).length;\n        return { inHour, outHour, errHour };\n    };\n\n    const { inHour, outHour, errHour } = statsLastHour();\n\n    return (\n        <div className=\"messages-page\">\n            <div className=\"page-header\">\n                <div>\n                    <h1>üí¨ Mensajes del Bot</h1>\n                    <p className=\"subtitle\">Monitor de mensajes en tiempo real</p>\n                </div>\n                <div className=\"header-actions\">\n                    {lastUpdate && (\n                        <span className=\"last-update\">\n                            √öltima actualizaci√≥n: {lastUpdate.toLocaleTimeString()}\n                        </span>\n                    )}\n                    <button onClick={fetchMessages} className=\"btn-refresh\" disabled={loading}>\n                        <RefreshCw className={loading ? 'spinning' : ''} size={16} />\n                        Actualizar\n                    </button>\n                </div>\n            </div>\n\n            {/* Stats Cards */}\n            <div className=\"stats-grid\">\n                <div className=\"stat-card received\">\n                    <div className=\"stat-icon\">üì•</div>\n                    <div className=\"stat-content\">\n                        <div className=\"stat-label\">Recibidos</div>\n                        <div className=\"stat-value\">{messages.received.length}</div>\n                        <div className=\"stat-detail\">+{inHour} √∫ltima hora</div>\n                    </div>\n                </div>\n                <div className=\"stat-card sent\">\n                    <div className=\"stat-icon\">üì§</div>\n                    <div className=\"stat-content\">\n                        <div className=\"stat-label\">Enviados</div>\n                        <div className=\"stat-value\">{messages.sent.length}</div>\n                        <div className=\"stat-detail\">+{outHour} √∫ltima hora</div>\n                    </div>\n                </div>\n                <div className=\"stat-card errors\">\n                    <div className=\"stat-icon\">‚ö†Ô∏è</div>\n                    <div className=\"stat-content\">\n                        <div className=\"stat-label\">Errores</div>\n                        <div className=\"stat-value\">{messages.errors.length}</div>\n                        <div className=\"stat-detail\">+{errHour} √∫ltima hora</div>\n                    </div>\n                </div>\n            </div>\n\n            {/* Messages Tables */}\n            <div className=\"messages-grid\">\n                {/* Received Messages */}\n                <div className=\"message-section\">\n                    <h2>üì• Recibidos <span className=\"badge\">{messages.received.length}</span></h2>\n                    <div className=\"table-container\">\n                        <table className=\"messages-table\">\n                            <thead>\n                                <tr>\n                                    <th>Hora</th>\n                                    <th>De</th>\n                                    <th>Tipo</th>\n                                    <th>Mensaje</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {messages.received.slice().reverse().map((msg, idx) => (\n                                    <tr\n                                        key={idx}\n                                        onClick={() => { setSelectedMessage(msg); setSelectedType('received'); }}\n                                        className={selectedMessage === msg ? 'selected' : ''}\n                                    >\n                                        <td>{new Date(msg.timestamp).toLocaleTimeString()}</td>\n                                        <td>{msg.from || '-'}</td>\n                                        <td><span className=\"pill pill-in\">Texto</span></td>\n                                        <td className=\"text-preview\">{msg.body || '-'}</td>\n                                    </tr>\n                                ))}\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n\n                {/* Sent Messages */}\n                <div className=\"message-section\">\n                    <h2>üì§ Enviados <span className=\"badge\">{messages.sent.length}</span></h2>\n                    <div className=\"table-container\">\n                        <table className=\"messages-table\">\n                            <thead>\n                                <tr>\n                                    <th>Hora</th>\n                                    <th>Para</th>\n                                    <th>Estado</th>\n                                    <th>Mensaje</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {messages.sent.slice().reverse().map((msg, idx) => (\n                                    <tr\n                                        key={idx}\n                                        onClick={() => { setSelectedMessage(msg); setSelectedType('sent'); }}\n                                        className={selectedMessage === msg ? 'selected' : ''}\n                                    >\n                                        <td>{new Date(msg.timestamp).toLocaleTimeString()}</td>\n                                        <td>{msg.to || '-'}</td>\n                                        <td><span className=\"pill pill-out\">{msg.status || 'enviado'}</span></td>\n                                        <td className=\"text-preview\">{msg.body || '-'}</td>\n                                    </tr>\n                                ))}\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n\n                {/* Error Messages */}\n                <div className=\"message-section\">\n                    <h2>‚ö†Ô∏è Errores <span className=\"badge\">{messages.errors.length}</span></h2>\n                    <div className=\"table-container\">\n                        <table className=\"messages-table\">\n                            <thead>\n                                <tr>\n                                    <th>Hora</th>\n                                    <th>Contexto</th>\n                                    <th colSpan=\"2\">Error</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {messages.errors.slice().reverse().map((err, idx) => (\n                                    <tr\n                                        key={idx}\n                                        onClick={() => { setSelectedMessage(err); setSelectedType('errors'); }}\n                                        className={selectedMessage === err ? 'selected' : ''}\n                                    >\n                                        <td>{new Date(err.timestamp).toLocaleTimeString()}</td>\n                                        <td>{err.context || '-'}</td>\n                                        <td className=\"error-text\" colSpan=\"2\">{err.error || '-'}</td>\n                                    </tr>\n                                ))}\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            </div>\n\n            {/* Message Detail Panel */}\n            {selectedMessage && (\n                <div className=\"message-detail\">\n                    <div className=\"detail-header\">\n                        <h3>üîç Detalle del Mensaje ({selectedType})</h3>\n                        <button onClick={() => setSelectedMessage(null)} className=\"btn-close\">√ó</button>\n                    </div>\n                    <pre className=\"detail-content\">\n                        {JSON.stringify(selectedMessage, null, 2)}\n                    </pre>\n                </div>\n            )}\n        </div>\n    );\n}\n","export default {\n  xmlns: 'http://www.w3.org/2000/svg',\n  width: 24,\n  height: 24,\n  viewBox: '0 0 24 24',\n  fill: 'none',\n  stroke: 'currentColor',\n  strokeWidth: 2,\n  strokeLinecap: 'round',\n  strokeLinejoin: 'round',\n};\n","import {\n  forwardRef,\n  createElement,\n  ReactSVG,\n  SVGProps,\n  ForwardRefExoticComponent,\n  RefAttributes,\n} from 'react';\nimport defaultAttributes from './defaultAttributes';\n\nexport type IconNode = [elementName: keyof ReactSVG, attrs: Record<string, string>][];\n\nexport type SVGAttributes = Partial<SVGProps<SVGSVGElement>>;\ntype ComponentAttributes = RefAttributes<SVGSVGElement> & SVGAttributes;\n\nexport interface LucideProps extends ComponentAttributes {\n  size?: string | number;\n  absoluteStrokeWidth?: boolean;\n}\n\nexport type LucideIcon = ForwardRefExoticComponent<LucideProps>;\n/**\n * Converts string to KebabCase\n * Copied from scripts/helper. If anyone knows how to properly import it here\n * then please fix it.\n *\n * @param {string} string\n * @returns {string} A kebabized string\n */\nexport const toKebabCase = (string: string) =>\n  string\n    .replace(/([a-z0-9])([A-Z])/g, '$1-$2')\n    .toLowerCase()\n    .trim();\n\nconst createLucideIcon = (iconName: string, iconNode: IconNode): LucideIcon => {\n  const Component = forwardRef<SVGSVGElement, LucideProps>(\n    ({ color = 'currentColor', size = 24, strokeWidth = 2, absoluteStrokeWidth, className = '', children, ...rest }, ref) =>\n      createElement(\n        'svg',\n        {\n          ref,\n          ...defaultAttributes,\n          width: size,\n          height: size,\n          stroke: color,\n          strokeWidth: absoluteStrokeWidth ? Number(strokeWidth) * 24 / Number(size) : strokeWidth,\n          className: ['lucide', `lucide-${toKebabCase(iconName)}`, className].join(' '),\n          ...rest,\n        },\n        [\n          ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n          ...(Array.isArray(children) ? children : [children]),\n        ]\n      )\n  );\n\n  Component.displayName = `${iconName}`;\n\n  return Component;\n};\n\nexport default createLucideIcon;\n","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nfunction _objectWithoutProperties(e, t) {\n  if (null == e) return {};\n  var o,\n    r,\n    i = objectWithoutPropertiesLoose(e, t);\n  if (Object.getOwnPropertySymbols) {\n    var n = Object.getOwnPropertySymbols(e);\n    for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]);\n  }\n  return i;\n}\nexport { _objectWithoutProperties as default };","function _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nexport { _objectWithoutPropertiesLoose as default };"],"names":["RefreshCw","createLucideIcon","d","key","Messages","messages","setMessages","useState","received","sent","errors","selectedMessage","setSelectedMessage","selectedType","setSelectedType","loading","setLoading","lastUpdate","setLastUpdate","fetchMessages","async","res","fetch","json","success","data","Date","error","console","toast","useEffect","eventSource","EventSource","addEventListener","evt","JSON","parse","e","close","inHour","outHour","errHour","statsLastHour","oneHourAgo","now","filter","m","timestamp","getTime","length","_jsxs","className","children","_jsx","toLocaleTimeString","onClick","disabled","size","slice","reverse","map","msg","idx","from","body","to","status","colSpan","err","context","stringify","defaultAttributes","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","iconName","iconNode","Component","forwardRef","_ref","ref","color","absoluteStrokeWidth","rest","t","o","r","i","n","hasOwnProperty","call","indexOf","Object","getOwnPropertySymbols","propertyIsEnumerable","_objectWithoutProperties","_excluded","createElement","_objectSpread","Number","concat","string","replace","toLowerCase","trim","join","_ref2","tag","attrs","Array","isArray","displayName"],"sourceRoot":""}